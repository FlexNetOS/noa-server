[Unit]
Description=Task Backup Verification Service
Documentation=file:///home/deflex/noa-server/docs/BACKUP_DISASTER_RECOVERY.md
After=task-backup.service

[Service]
Type=oneshot
User=deflex
Group=deflex
WorkingDirectory=/home/deflex/noa-server
ExecStart=/bin/bash /home/deflex/noa-server/scripts/backup-system/verify-backup.sh
StandardOutput=journal
StandardError=journal
SyslogIdentifier=task-backup-verify

# Security hardening
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=read-only
ReadWritePaths=/home/deflex/noa-server/backups /home/deflex/noa-server/.claude/logs

[Install]
WantedBy=multi-user.target
