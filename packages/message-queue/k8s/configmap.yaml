apiVersion: v1
kind: ConfigMap
metadata:
  name: message-queue-config
  namespace: noa-server
  labels:
    app: message-queue-api
    component: backend
data:
  # Server Configuration
  NODE_ENV: "production"
  API_PORT: "8081"
  API_HOST: "0.0.0.0"
  LOG_LEVEL: "info"

  # CORS Configuration
  CORS_ORIGINS: "https://app.example.com,https://api.example.com"

  # Feature Flags
  ENABLE_WEBSOCKET: "true"
  ENABLE_METRICS: "true"
  AUTH_ENABLED: "false"

  # Redis Configuration
  REDIS_HOST: "redis-service"
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  REDIS_TLS_ENABLED: "false"

  # Queue Configuration
  QUEUE_DEFAULT_PROVIDER: "redis"
  QUEUE_MAX_RETRIES: "3"
  QUEUE_RETRY_DELAY: "1000"
  QUEUE_CONCURRENCY: "10"

  # Monitoring & Metrics
  METRICS_INTERVAL: "30000"
  HEALTH_CHECK_INTERVAL: "60000"
  ENABLE_PROMETHEUS: "true"
  PROMETHEUS_PORT: "9090"

  # Rate Limiting
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_WINDOW_MS: "60000"
  RATE_LIMIT_MAX_REQUESTS: "100"

  # Webhook Configuration
  WEBHOOK_TIMEOUT: "5000"
  WEBHOOK_MAX_RETRIES: "3"

  # Email Configuration
  SMTP_HOST: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_SECURE: "false"
  EMAIL_FROM: "noreply@example.com"

  # Security
  HELMET_ENABLED: "true"
  TRUST_PROXY: "true"

  # Development
  DEBUG: "false"
  PRETTY_LOGS: "false"
